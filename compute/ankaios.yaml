apiVersion: v0.1
workloads:
  databroker:
    runtime: podman
    agent: agent_compute
    runtimeConfig: |
      image: ghcr.io/eclipse-kuksa/kuksa-databroker:0.6.0
      commandArgs: ["--insecure"]
      commandOptions: ["--net=host"]
  mqtt:
    runtime: podman
    agent: agent_compute
    runtimeConfig: |
      image: docker.io/library/eclipse-mosquitto
      commandOptions: ["--net=host", "-v", "/home/chris/hackathon2025/ArBytesMoral/compute/mosquitto/config:/mosquitto/config"]
  mqtt2kuksa:
    runtime: podman
    dependencies:
      mqtt: ADD_COND_RUNNING
      databroker: ADD_COND_RUNNING
    agent: agent_compute
    runtimeConfig: |
      image: localhost/mqtt-kuksa-provider:latest
      commandOptions: ["--net=host"]
  CarMateIO:
    runtime: podman
    dependencies:
      zenohRouter: ADD_COND_RUNNING
    agent: agent_compute
    runtimeConfig: |
      image: localhost/car-mate-io:latest
      commandOptions: ["--net=host"]
  CarMateAgents:
    runtime: podman
    dependencies:
      zenohRouter: ADD_COND_RUNNING
      vehilceDataAccessor: ADD_COND_RUNNING
    agent: agent_compute
    runtimeConfig: |
      image: localhost/car-mate-agents:latest
      commandOptions: ["--net=host"]